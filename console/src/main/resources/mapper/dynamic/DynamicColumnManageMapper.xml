<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.ssr.console.mapper.dynamic.DynamicColumnManageMapper" >
  <resultMap id="BaseResultMap" type="com.ssr.console.model.dynamic.DynamicColumnManage" >
    <!--
      WARNING - @mbg.generated
    -->
    <id column="id" property="id" jdbcType="INTEGER" />
    <result column="table_id" property="tableId" jdbcType="INTEGER" />
    <result column="column_name" property="columnName" jdbcType="VARCHAR" />
    <result column="type_for_mysql" property="typeForMysql" jdbcType="VARCHAR" />
    <result column="length" property="length" jdbcType="INTEGER" />
    <result column="decimal_point" property="decimalPoint" jdbcType="INTEGER" />
    <result column="enum_value" property="enumValue" jdbcType="VARCHAR" />
    <result column="nullable" property="nullable" jdbcType="BIT" />
    <result column="is_primary_key" property="isPrimaryKey" jdbcType="BIT" />
    <result column="is_autoincrement" property="isAutoincrement" jdbcType="BIT" />
    <result column="remark" property="remark" jdbcType="VARCHAR" />
    <result column="create_time" property="createTime" jdbcType="TIMESTAMP" />
    <result column="create_user_id" property="createUserId" jdbcType="INTEGER" />
    <result column="update_time" property="updateTime" jdbcType="TIMESTAMP" />
    <result column="update_user_id" property="updateUserId" jdbcType="INTEGER" />
  </resultMap>
   <select id="selectDynamicColumnManageByMap" parameterType="java.util.Map" resultMap="BaseResultMap">
    SELECT id,table_id,column_name,type_for_mysql,length,decimal_point,enum_value,nullable,
    	is_primary_key,is_autoincrement,remark,create_time,create_user_id,update_time,update_user_id
     FROM DYNAMIC_COLUMN_MANAGE
    <where>
        table_id = #{tableId}
      <if test="columnName!=null and columnName!=''">
        and column_name = #{columnName}
      </if>
    </where>
  </select>
</mapper>